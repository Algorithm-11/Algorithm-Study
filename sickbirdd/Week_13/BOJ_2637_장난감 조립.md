## 소스 코드

https://www.acmicpc.net/source/77119030

## 소모 시간

1시간

## 알고리즘

위상 정렬

## 풀이

### BFS - 메모리 초과

-   처음에는 단순한 BFS로 접근했다가 메모리 초과가 발생했다.
-   완제품 및 부품들을 정점으로 생각하고 부품들 간의 관계를 인접 리스트로 표현하였다.
-   BFS를 수행하면서 `(다음 부품의 종류, 현재 부품의 개수 * 다음 부품의 개수)`를 큐에다가 저장하였다.
-   다음 부품의 종류가 없는 경우에는 기본 부품이고, 현재까지 계산한 부품의 개수를 더해준다.
-   위 방식의 문제점은 중복으로 방문되는 정점들의 개수가 많다는 것이다. 이 때, 순회해야 할 정점들의 개수가 늘어나기 때문에 큐에 저장되는 데이터가 많아질 수 밖에 없다.
-

### 위상 정렬

-   따라서 위의 문제점을 해결하기 위해 위상 정렬을 사용하기로 생각하게 되었다.
-   일단 문제 조건을 통해 싸이클이 없는 그래프라는 것을 확인할 수 있다.
-   부품들의 개수는 정점들의 차수를 지워주기 전에 계속 누적해서 더해준다.
    -   `다음 부품의 개수 += 다음 부품의 양 * 현재 부품의 전체 개수`
-   **이 때, 큐에 들어가는 부품들은 차수가 0이기 때문에, 현재 부품이 완제품을 구하기 위해 필요한 전체 개수라는 것이 보장된다.**
